angular.module("bv-framework.log",["ui-notification","bv-framework.translate","bv-framework.security"]),function(){"use strict";function a(a){a.defaults.cache=!1,a.defaults.headers.get||(a.defaults.headers.get={}),a.defaults.headers.get["If-Modified-Since"]="0",a.interceptors.push("bvHttpErrorInterceptor")}a.$inject=["a"],a.$inject=["$httpProvider"],angular.module("bv-framework.log").config(a)}(),function(){"use strict";var a={code:"999",message:"Ocorreu um erro desconhecido"};angular.module("bv-framework.log").constant("bvLogConstants",a)}(),function(){"use strict";function a(a,b){return function(c){var d;d=c instanceof TypeError?c.stack:c;var e=a.get("bvLogService"),f=a.get("bvGuid");e.error(f.createGuid()+" - "+b.code+":JavaScript Error - "+d)}}a.$inject=["a","b"],a.$inject=["$injector","bvLogConstants"],angular.module("bv-framework.log").factory("$exceptionHandler",a)}(),function(){"use strict";function a(a,b){return String.prototype.startsWith=function(a){return 0===this.indexOf(a)},{responseError:function(c){var d=function(){},e=!0;if(angular.isUndefined(c.config)||angular.isUndefined(c.config.headers)||angular.isUndefined(c.config.headers["X-DNT"])||!1===c.config.headers["X-DNT"]){var f=b.get("bvLogService"),g=b.get("bvLogConstants"),h=b.get("bvUserModelFactory"),i=b.get("bvRolesConfig"),j=b.get("bvLogConfig"),k=b.get("bvGuid"),l=b.get("Notification");switch(c.status){case-1:case 0:c.data="ERR_CONNECTION_REFUSED";break;case 401:h.clear(),d=i.executeUnauthorizedCallback;break;case 403:var m=c.config.url.toUpperCase(),n=angular.isDefined(c.config.headers.Authorization);if((m.match("API-SECURITY/USER$")||m.match("API-SECURITY/USER/$"))&&!n){e=!1;break}d=i.executeForbiddenCallback;break;case 500:(angular.isUndefined(c.data)||angular.isUndefined(c.data.code))&&(c.data={code:g.code,message:g.message})}"string"==typeof c.data&&(c.data={code:g.code,message:c.data}),angular.isUndefined(c.data.correlationId)&&(c.data.correlationId=k.createGuid());for(var o=Number(c.status),p=!1,q=0,r=j.ignoreBackendList.length;q<r;q++)if(c.config.url.indexOf(j.ignoreBackendList[q])>=0){p=!0;break}(o>=401&&o<=404&&!p||o<=0)&&f.error(JSON.stringify(c.data)),e&&l({message:"<div>"+(c.data.message||"")+"</div><div style='font-size: 11px;'>"+c.data.correlationId+"</div>",title:"<div style='color: white;'>Erro</div>",delay:1e4,positionX:"right",positionY:"top"},"error")}return d(),a.reject(c)}}}a.$inject=["a","b"],a.$inject=["$q","$injector"],angular.module("bv-framework.log").factory("bvHttpErrorInterceptor",a)}(),function(){"use strict";function a(){var a=function(a){this.message=a.logMessage,this.apiError="",this.logLevel=a.logLevel,this.dateTime=(new Date).toString(),this.hostname=location.hostname,this.href=location.href;for(var b in navigator)angular.isObject(navigator[b])||(this.navigatorInfo+=b+":"+JSON.stringify(navigator[b])+"\n")};return{createLogSession:function(b){return new a(b)}}}angular.module("bv-framework.log").factory("bvLogModelFactory",a)}(),function(){"use strict";function a(){var a={LogLevel:{INFO:"info",WARN:"warn",ERROR:"error"},currentLevel:"info",endpoint:"",ignoreBackendList:[],localStorageKey:"logStorage",localStorageLimit:100};this.$get=function(){return a},this.setLogLevel=function(b){a.currentLevel=b},this.setEndpoint=function(b){a.endpoint=b},this.setLogStorageLimit=function(b){a.localStorageLimit=b},this.addIgnoredBackend=function(b){Array.isArray(b)?a.ignoreBackendList=a.ignoreBackendList.concat(b):a.ignoreBackendList.push(b)},this.clearIgnoredBackends=function(b){a.ignoreBackendList=[]}}angular.module("bv-framework.log").provider("bvLogConfig",a)}(),function(){"use strict";function a(a,b,c,d,e,f){var g=[],h=function(c){try{c&&"undefined"!==c?e.localStorage[a.localStorageKey]=angular.toJson(c):e.localStorage.removeItem(a.localStorageKey)}catch(f){e.localStorage&&e.localStorage.removeItem(a.localStorageKey),b.postLog(c).catch(function(a){d.error("Local storage write failure - "+a)})}},i=function(b){var c=e.localStorage[a.localStorageKey];if(c){var d=angular.fromJson(c);return d.push(b),d}return[b]},j=function(b){var c=e.localStorage[a.localStorageKey],d=angular.isDefined(c)?angular.fromJson(c):[];d.push(b),h(d)},k=function(){var b=e.localStorage[a.localStorageKey];return!!b&&angular.fromJson(b).length>=a.localStorageLimit},l=function(b){var c=angular.fromJson(e.localStorage[a.localStorageKey]),d=angular.isUndefined(c)?0:c.length,f=0,g=function(a){return angular.toJson(a)===angular.toJson(b[f])};for(f=0;f<d;f++)e._.remove(c,g);h(c)},m=function(a){var c=i(a);b.postLog(c).then(function(a){return l(c),a},function(b){return j(a),b})},n=function(b,e){var f=a.currentLevel,g=a.LogLevel.ERROR,h=a.LogLevel.WARN,i=a.LogLevel.INFO;if(f===e||f===i||f===h&&e===g){d[e](b);var l=c.createLogSession({logMessage:b,logLevel:e});e===a.LogLevel.ERROR||k()?o(b.length).then(function(a){m(l)}):o(b.length).then(function(a){j(l)})}},o=function(a){return f(function(b,c){-1==g.indexOf(a)?(g.push(a),b()):c()})};return{error:function(b){n(b,a.LogLevel.ERROR)},info:function(b){n(b,a.LogLevel.INFO)},warning:function(b){n(b,a.LogLevel.WARN)}}}a.$inject=["a","b","c","d","e","f"],a.$inject=["bvLogConfig","bvLogAPIService","bvLogModelFactory","$log","$window","$q"],angular.module("bv-framework.log").service("bvLogService",a)}(),function(){"use strict";function a(){return{createGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:3&b|8).toString(16)})}}}angular.module("bv-framework.log").service("bvGuid",a)}(),function(){"use strict";function a(a,b){return{postLog:function(c){var d={headers:{"X-DNT":!0}};return a.post(b.endpoint+"/log",c,d)}}}a.$inject=["a","b"],a.$inject=["$http","bvLogConfig"],angular.module("bv-framework.log").service("bvLogAPIService",a)}(),function(){"use strict";function a(a,b){return{getI18n:function(c,d){var e="";if(angular.isUndefined(c))return a.message;e=c.code,angular.isDefined(d)&&(e=d+e);var f=b("translate")(e);return f===c.code?c.message:f}}}a.$inject=["a","b"],a.$inject=["bvLogConstants","$filter"],angular.module("bv-framework.log").service("bvLogTranslateService",a)}(),angular.module("bv-framework.route",["ui.router"]),function(){"use strict";function a(a,b){a.$on("$stateChangeStart",function(a,c){"login"!==c.name&&b.setPreviousState(c)})}a.$inject=["a","b"],a.$inject=["$rootScope","bvRouteService"],angular.module("bv-framework.route").run(a)}(),function(){"use strict";function a(a,b,c,d,e){var f={},g=function(a){var f=angular.module(a);f.controller=b.register,f.factory=c.factory,f.filter=d.register,f.service=c.service,f.directive=e.directive,f.constant=c.constant},h=function(a){return["$q","$window",function(b,c){var d=b.defer(),e=c.requirejs.s.contexts._.config.shim,f=a;a=a.toLowerCase();for(var g in e)if(e.hasOwnProperty(g)){var h=g.substring(g.indexOf(".")+1,g.length);if(h.toLowerCase()===a){f=g;break}}return c.require([f],function(){d.resolve()}),d.promise}]},i=function(a,b){if(a.value.controller)return h(b);if(a.value.views)for(var c in a.value.views)if(a.value.views.hasOwnProperty(c)&&a.value.views[c].controller)return h(b)};this.register=function(b,c){g(b);for(var d=0,e=c.length;d<e;d++){var h=c[d].value.resolve;void 0===h?h={}:"function"==typeof h&&(h={resolveFn:h});var j=i(c[d],b);j&&(h.loadDeps=j),c[d].value.resolve=h,a.state(c[d].key,c[d].value)}f[b]=c},this.$get=function(){return this},this.getModuleDependencies=function(){return f}}a.$inject=["a","b","c","d","e"],a.$inject=["$stateProvider","$controllerProvider","$provide","$filterProvider","$compileProvider"],angular.module("bv-framework.route").provider("bvRouteResolver",a)}(),function(){"use strict";function a(a){function b(a,b){e={to:a,params:b}}function c(){return e}function d(b,c){var d=a.get("$state");e?d.go(e.to,e.params):b&&d.go(b,c)}var e=void 0;return{setPreviousState:b,getPreviousState:c,goToPreviousStateOrDefault:d}}a.$inject=["a"],a.$inject=["$injector"],angular.module("bv-framework.route").service("bvRouteService",a)}(),angular.module("bv-framework.security",[]),function(){"use strict";function a(a,b){a.requirejs&&(a.requirejs.onError=function(){b.executeUnauthorizedCallback()})}a.$inject=["a","b"],a.$inject=["$window","bvRolesConfig"],angular.module("bv-framework.security").run(a)}(),function(){"use strict";function a(){var a={roles:[],name:""},b=function(b){return a.roles=b.roles||[],a.name=b.name||"",a};return{get:function(){return a},clear:function(){a.roles=[],a.name=""},convert:b}}angular.module("bv-framework.security").factory("bvUserModelFactory",a)}(),function(){"use strict";function a(){var a={endpoint:"",sessionStorageKey:"secStorage"},b=function(){},c=function(){};this.$get=function(){return{endpoint:a.endpoint,sessionStorageKey:a.sessionStorageKey,executeUnauthorizedCallback:function(){b()},executeForbiddenCallback:function(){c()}}},this.setEndpoint=function(b){a.endpoint=b},this.setUnauthorizedCallback=function(a){b=a},this.setForbiddenCallback=function(a){c=a}}angular.module("bv-framework.security").provider("bvRolesConfig",a)}(),function(){"use strict";function a(a,c,d,e){var f=function(b){var e=d.defer(),f=c.get();return 0===f.roles.length?a.getRoles(b).then(function(a){e.resolve(c.convert(a.data))},function(a){c.clear(),e.reject(a)}):e.resolve(f),e.promise},g=function(f){var g=d.defer(),h=c.get();return 0===h.roles.length?a.getUserRoles(f).then(function(a){var d=a.data,f=b(d.roles);null!=f&&g.resolve(e.location.href=f),g.resolve(c.convert(a.data))},function(a){c.clear(),g.reject(a)}):g.resolve(h),g.promise},h=function(a){var b,d=c.get().roles;return!(!angular.isUndefined(a)&&!1!==a.restrito)||(a.roleIn?(b=e._.intersection(a.roleIn,d),b.length>0):a.roleOut?(b=e._.intersection(a.roleOut,d),0===b.length):!0!==a.restrito||d.length>0)};return{getRoles:f,getUserRoles:g,userInRoles:function(a){var b,d=c.get().roles;return angular.isString(a)&&(a=[a]),b=e._.intersection(a,d),b.length>0},isCurrentRole:h,isLogged:function(){return c.get().roles.length>0},logout:function(){var b=d.defer();return a.postUserLogout().then(function(a){c.clear(),b.resolve()},function(a){b.reject(a)}),b.promise}}}function b(a){var b=window.location.href.toLowerCase(),c=window.location.pathname.toLowerCase().replace(/[\/]/g,""),d=null;return null!=a&&(-1!=a.indexOf("PILOTO_CONTEXTO")&&(d=b.replace(c,c+"-piloto")),-1!=a.indexOf("PILOTO_URL")&&(d=b.replace("www.","www2."))),d}a.$inject=["a","c","d","e"],a.$inject=["bvRolesAPIService","bvUserModelFactory","$q","$window"],angular.module("bv-framework.security").service("bvRolesService",a)}(),function(){"use strict";function a(a,b){var c=function(a){var b={};return angular.isDefined(a)&&angular.isDefined(a.login,a.password)&&(b={Authorization:"Basic "+btoa(a.login+":"+a.password)}),b};return{getRoles:function(d){return a({url:b.endpoint+"/api-security/user/roles",method:"GET",cache:!1,headers:c(d)})},getUserRoles:function(d){return a({url:b.endpoint+"/api-security/user",method:"GET",cache:!1,headers:c(d)})},postUserLogout:function(){return a({url:b.endpoint+"/api-security/user/logout",method:"POST",cache:!1})}}}a.$inject=["a","b"],a.$inject=["$http","bvRolesConfig"],angular.module("bv-framework.security").service("bvRolesAPIService",a)}(),angular.module("bv-framework.translate",["pascalprecht.translate","ngSanitize"]),function(){"use strict";function a(a,b){var c={},d=[];a.useLoader("$translatePartialLoader",{urlTemplate:"{part}/{lang}.json"}),a.useSanitizeValueStrategy("sanitizeParameters"),this.$get=function(){return c},this.LanguageType={PORTUGUESE:"pt-br",ENGLISH:"en-us",SPANISH:"es-es"},c.LanguageType=this.LanguageType,this.addLanguage=function(a){angular.isString(a)&&(a=[a]);for(var b=0;b<a.length;b++){var c=a[b];d.indexOf(c)<0&&d.push(c)}},c.getLanguages=function(){return d},c.addi18n=function(c){angular.isString(c)&&(c=[c]);for(var e=0,f=c.length;e<f;e++)b.addPart(c[e]);for(var g=0,h=d.length;g<h;g++)a.use(d[g])},c.changeLanguage=function(b){a.preferredLanguage(b)}}a.$inject=["a","b"],a.$inject=["$translateProvider","$translatePartialLoaderProvider"],angular.module("bv-framework.translate").provider("bvTranslateConfig",a)}(),function(){"use strict";function a(a,b,c){var d=function(a){b.use(a),b.refresh(a)};return{getI18n:function(b){a.addi18n(b),c(function(){d(a.LanguageType.PORTUGUESE)},100)},setLanguage:d}}a.$inject=["a","b","c"],a.$inject=["bvTranslateConfig","$translate","$timeout"],angular.module("bv-framework.translate").service("bvTranslateService",a)}(),angular.module("bv-framework.ui.menu",["bv-framework.security"]),function(){"use strict";function a(a,b,c){function d(d){var e,f=d.contents().remove();return function(d,g){d.isValidRole=function(a){return c.isCurrentRole(a)},angular.isUndefined(d.items)&&(d.items=a.getItems(d.name)),e||(e=b(f)),e(d,function(a){g.append(a)})}}return{restrict:"E",replace:!0,scope:{name:"@",items:"=?"},templateUrl:"lib/modules/ui/menu/directives/templates/menu.html",compile:d}}a.$inject=["a","b","c"],a.$inject=["bvMenuConfig","$compile","bvRolesService"],angular.module("bv-framework.ui.menu").directive("bvMenu",a)}(),function(){"use strict";function a(){var a=[],b=function(b){for(var c=0;c<a.length;c++)if(a[c].name===b)return a[c].items},c={menus:a,getItems:b},d=function(a,b){if(a)for(var c=0;c<a.length;c++)"disabled"===a[c].status?d(a[c].items,!0):b&&!a[c].status?(a[c].status="disabled",d(a[c].items,!0)):d(a[c].items,!1);return a};this.$get=function(){return c};var e=function(a,b){if(a){for(var c=0;c<a.length;c++)a[c].classIconDisabled=b,e(a[c].items,b);return a}};this.addMenu=function(b){for(var c=null,f=0;f<a.length;f++)a[f].name===b&&(c=a[f]);return null===c&&(a.push({name:b,items:[]}),c=a[a.length-1]),{addItems:function(a){return c.items=d(a),{setDisabledIcon:function(a){c.items=e(c.items,a)}}}}}}angular.module("bv-framework.ui.menu").provider("bvMenuConfig",a)}(),angular.module("bv-framework.ui.form",[]),function(){"use strict";function a(a){function b(b,c,d,e){e.$parsers.push(function(b){return e.$setValidity("cnpj",a.validCnpj(b)),b})}return{require:"?ngModel",link:b}}a.$inject=["a"],a.$inject=["bvCnpjValidatorService"],angular.module("bv-framework.ui.form").directive("bvCnpjValidator",a)}(),function(){"use strict";function a(a){function b(b,c,d,e){e.$parsers.push(function(b){return e.$setValidity("cpf",a.validCpf(b)),b})}return{require:"?ngModel",link:b}}a.$inject=["a"],a.$inject=["bvCpfValidatorService"],angular.module("bv-framework.ui.form").directive("bvCpfValidator",a)}(),function(){"use strict";function a(a){function b(b,c,d,e){e.$parsers.push(function(b){return e.$setValidity("cpfCnpj",a.validCpfCnpj(b)),b})}return{require:"?ngModel",link:b}}a.$inject=["a"],a.$inject=["bvCpfCnpjValidatorService"],angular.module("bv-framework.ui.form").directive("bvCpfCnpjValidator",a)}(),function(){"use strict";function a(){function a(a){var b=c[a];return!!b&&Object.keys(b).every(function(a){return"isRequired"===a||!b[a]})}function b(b,d,e,f){function g(){j.isRequired?f.$setValidity("required",!1):f.$setValidity("required",!0)}function h(c){return j[b.$id]=!f.$isEmpty(c),j.isRequired=a(i),g(),j.isRequired?void 0:c}if(f&&e.bvOneRequired){var i=e.bvOneRequired;angular.isUndefined(c[i])&&(c[i]={isRequired:!0});var j=b.group=c[i];b.$on("$destroy",function(){delete j[b.$id],Object.keys(j).length<=1&&delete c[i]}),f.$formatters.push(h),f.$parsers.unshift(h),b.$watch("group.isRequired",g)}}var c={};return{restrict:"A",require:"?ngModel",scope:{},link:b}}angular.module("bv-framework.ui.form").directive("bvOneRequired",a)}(),function(){"use strict";function a(){function a(a,b,c,d){var e=a.$watch(c.ngModel,function(a){var b=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/;d.$setValidity("email",b.test(a))}),f=a.$on("$destroy",function(){e(),f()})}return{require:"ngModel",link:a}}angular.module("bv-framework.ui.form").directive("bvEmailValidator",a)}(),function(){"use strict";function a(){function a(a,b,c,d){b.on("cut copy paste",function(a){a.preventDefault()});var e=a.$watch(function(){return c.required+a.bvConfirmationValidator+d.$modelValue},function(b){c.required.toString()&&""!==b.toString()&&d.$setValidity("confirmationValidator",a.bvConfirmationValidator===d.$modelValue)}),f=a.$on("$destroy",function(){b.off("cut copy paste"),e(),f()})}return{scope:{bvConfirmationValidator:"=",required:"@"},require:"ngModel",link:a}}angular.module("bv-framework.ui.form").directive("bvConfirmationValidator",a)}(),function(){"use strict";function a(){var a=function(a){var b=a.length;if(14!==b)return!1;for(var c=b-2,d=a.substring(0,c),e=a.substring(c),f=0,g=c-7,h=c;h>=1;h--)f+=d.charAt(c-h)*g--,g<2&&(g=9);var i=f%11<2?0:11-f%11;if(i.toString()!==e.charAt(0).toString())return!1;for(c+=1,d=a.substring(0,c),f=0,g=c-7,h=c;h>=1;h--)f+=d.charAt(c-h)*g--,g<2&&(g=9);return i=f%11<2?0:11-f%11,i.toString()===e.charAt(1)};return{validCnpj:function(b){var c=/^\d{2}\.\d{3}\.\d{3}\/\d{4}\-\d{2}$/;return!b||(b=b.toString(),c.test(b)&&(b=b.replace(/\D/g,"")),"00000000000000"!==b&&a(b))}}}angular.module("bv-framework.ui.form").service("bvCnpjValidatorService",a)}(),function(){"use strict";function a(){var a=function(a){for(var b=a.length-1,c=0;c<b;c++)if(a.charAt(c)!==a.charAt(c+1))return!1;return!0};return{validCpf:function(b){var c=/^\d{3}\.\d{3}\.\d{3}\-\d{2}$/;if(b){if(b=b.toString(),c.test(b)&&(b=b.replace(/\D/g,"")),11===b.length){if(a(b))return!1;var d,e;d=0;for(var f=1;f<=9;f++)d+=parseInt(b.substring(f-1,f))*(11-f);if(e=10*d%11,10!==e&&11!==e||(e=0),e!==parseInt(b.substring(9,10)))return!1;d=0;for(var g=1;g<=10;g++)d+=parseInt(b.substring(g-1,g))*(12-g);return e=10*d%11,10!==e&&11!==e||(e=0),e===parseInt(b.substring(10,11))}return!1}return!0}}}angular.module("bv-framework.ui.form").service("bvCpfValidatorService",a)}(),function(){"use strict";function a(a,b){return{validCpfCnpj:function(c){var d=/^\d{3}\.\d{3}\.\d{3}\-\d{2}$/,e=/^\d{2}\.\d{3}\.\d{3}\/\d{4}\-\d{2}$/;if(c){(d.test(c)||e.test(c))&&(c=c.replace(/\D/g,""));var f=c.length;return 11===f?b.validCpf(c):14===f&&a.validCnpj(c)}return!0}}}a.$inject=["a","b"],a.$inject=["bvCnpjValidatorService","bvCpfValidatorService"],angular.module("bv-framework.ui.form").service("bvCpfCnpjValidatorService",a)}(),angular.module("spinjs",[]).factory("Spinner",["$window",function(a){return a.Spinner}]),angular.module("bv-framework.ui.spinner",["spinjs"]),function(){"use strict";function a(a){function b(b,c){c.css("display","inline-block"),c.css("vertical-align","middle");var d=null,e=function(){d&&d.spin(c[0])},f=function(){d&&d.stop()},g=function(){f();var g=6;c.css("height",2*g+"px"),c.css("width",2*g+"px"),d=new a({top:g+"px",left:g+"px",position:"relative",zIndex:null,length:7*g/22,width:5*g/22,radius:10*g/22,color:b.color||"#000"}),e()};b.$on("$destroy",function(){f(),d=null}),b.$watch("radius",g),b.$watch("color",g),g()}return{link:b,scope:{color:"@"},restrict:"E"}}a.$inject=["a"],a.$inject=["Spinner"],angular.module("bv-framework.ui.spinner").directive("bvSpinner",a)}(),function(){"use strict";function a(a,b,c){function d(b){m.push(b),j||(h=jQuery('<div style="background-color: black; opacity: 0.8; width: 100%; height: 100%; top: 0px; left: 0px; position: fixed; z-index: 2147483647;"></div>'),l=k.css("overflow"),k.css("overflow","hidden"),k.append(h),i=new a({color:"white"}),i.spin(h[0]),j=!0)}function e(a){if(j){var b=m.indexOf(a);b>=0&&m.splice(b,1),0==m.length&&(i.stop(),i=null,k.css("overflow",l),h.remove(),h=null,j=!1)}}function f(a){var f=b.defer();return d(a.url),c(a).success(function(a){f.resolve(a)}).error(function(a){f.reject(a)}).finally(function(){e(a.url)}),f.promise}function g(a){var c=b.defer();return d(),a.then(function(a){e(),c.resolve(a)},function(a){e(),c.reject(a)}),c.promise}var h=null,i=null,j=!1,k=jQuery("body"),l=void 0,m=[];return{http:f,promise:g}}a.$inject=["a","b","c"],a.$inject=["Spinner","$q","$http"],angular.module("bv-framework.ui.spinner").factory("bvLoader",a)}();